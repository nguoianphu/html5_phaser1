(function e(t,s,i){function h(o,r){if(!s[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);throw Error("Cannot find module '"+o+"'")}var n=s[o]={exports:{}};t[o][0].call(n.exports,function(s){var i=t[o][1][s];return h(i?i:s)},n,n.exports,e,t,s,i)}return s[o].exports}for(var a="function"==typeof require&&require,o=0;i.length>o;o++)h(i[o]);return h})({1:[function(t){"use strict";window.onload=function(){var s=new Phaser.Game(1024,600,Phaser.AUTO,"duck981");s.state.add("boot",t("./states/boot")),s.state.add("gameover",t("./states/gameover")),s.state.add("menu",t("./states/menu")),s.state.add("play",t("./states/play")),s.state.add("preload",t("./states/preload")),s.state.start("boot")}},{"./states/boot":14,"./states/gameover":15,"./states/menu":16,"./states/play":17,"./states/preload":18}],2:[function(t,s){"use strict";var i=function(t,s,i){Phaser.Sprite.call(this,t,s,i,"bullets"),this.game.physics.arcade.enableBody(this),this.anchor.set(.5,.5),this.body.outOfBoundsKill=!0,this.body.checkWorldBounds=!0,this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){},s.exports=i},{}],3:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.Sprite.call(this,t,s,i,"drill",e,h),this.game.physics.arcade.enableBody(this),this.player=e,this.enemyBullets=h,this.game=t,this.health=10,this.fireRate=700,this.nextFire=100,this.alive=!0,this.anchor.set(.5,.5),this.animations.add("rigs"),this.animations.play("rigs",2,!0),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1),this.body.allowRotation=!1,this.bringToTop(),this.body.drag.set(.2),this.body.immovable=!1,this.body.maxVelocity.y=50,this.body.maxVelocity.x=50,this.game.physics.arcade.velocityFromRotation(Math.floor(50*Math.random())+50,100,this.body.velocity),this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){if(this.animations.play("rigs"),300>this.game.physics.arcade.distanceBetween(this,this.player)&&this.game.time.now>this.nextFire&&this.enemyBullets.countDead()>0&&this.alive){this.nextFire=this.game.time.now+this.fireRate;var t=this.enemyBullets.getFirstDead();t.reset(this.x,this.y),t.rotation=this.game.physics.arcade.moveToObject(t,this.player,130),this.game.physics.arcade.moveToObject(this,this.player,30)}},i.prototype.damage=function(){return this.health-=1,0>=this.health?(this.alive=!1,this.kill(),!0):!1},s.exports=i},{}],4:[function(t,s){"use strict";var i=function(t,s,i,e){Phaser.Sprite.call(this,t,s,i,"ducks",e),this.bullets=e,this.fireRate=400,this.nextFire=0,this.game.physics.arcade.enableBody(this),this.anchor.set(.5,.5),this.animations.add("left",[0],2,!0),this.animations.add("right",[1],2,!0),this.body.collideWorldBounds=!0,this.body.bounce.setTo(.3,.3),this.body.allowRotation=!1,this.bringToTop(),this.body.drag.set(.2),this.health=5,this.alive=!0};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){this.x<this.game.input.worldX?this.animations.play("right"):this.x>this.game.input.worldX&&this.animations.play("left"),0!=this.angle&&(this.angle=0),this.game.physics.arcade.moveToPointer(this,180,this.game.input.activePointer,0)},i.prototype.fire=function(){if(this.alive){if(this.animation=this.game.add.tween(this),this.x<this.game.input.worldX&&this.animation.to({angle:20},150),this.x>this.game.input.worldX&&this.animation.to({angle:-20},150),this.animation.start(),this.game.time.now>this.nextFire&&this.bullets.countDead()>0){this.nextFire=this.game.time.now+this.fireRate;var t=this.bullets.getFirstDead();t.reset(this.x,this.y),t.rotation=this.game.physics.arcade.moveToPointer(t,300,this.game.input.activePointer,700)}this.game.physics.arcade.moveToPointer(this,300,this.game.input.activePointer,0)}},i.prototype.damage=function(){return this.health-=1,0>=this.health?(this.alive=!1,this.kill(),!0):!1},s.exports=i},{}],5:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.Sprite.call(this,t,s,i,"helicopter",e,h),this.game.physics.arcade.enableBody(this),this.player=e,this.enemyBullets=h,this.game=t,this.health=1,this.fireRate=800,this.nextFire=0,this.alive=!0,this.anchor.set(.5,.5),this.animations.add("right",[0,1,2,3],4,!0),this.animations.add("left",[7,6,5,4],4,!0),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1),this.body.immovable=!1,this.game.physics.arcade.velocityFromRotation(Math.floor(100*Math.random())+50,200,this.body.velocity),this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){if(0>this.body.velocity.x?this.animations.play("left"):this.body.velocity.x>0&&this.animations.play("right"),this.game.physics.arcade.distanceBetween(this,this.player)>250&&400>this.game.physics.arcade.distanceBetween(this,this.player)&&this.game.time.now>this.nextFire&&this.enemyBullets.countDead()>0&&this.alive){this.nextFire=this.game.time.now+this.fireRate;var t=this.enemyBullets.getFirstDead();t.reset(this.x,this.y),t.rotation=this.game.physics.arcade.moveToObject(t,this.player,100)}},i.prototype.damage=function(){return this.health-=1,0>=this.health?(this.alive=!1,this.kill(),!0):!1},s.exports=i},{}],6:[function(t,s){"use strict";var i=function(t,s,i){Phaser.Sprite.call(this,t,s,i,"island"),this.game.physics.arcade.enableBody(this),this.anchor.set(.5,.5),this.game.add.existing(this),this.body.bounce.setTo(1,1),this.body.allowRotation=!1,this.body.immovable=!0};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){},s.exports=i},{}],7:[function(t,s){"use strict";var i=function(t,s,i,e){Phaser.Sprite.call(this,t,s,i,"rockets",e),this.game.physics.arcade.enableBody(this),this.anchor.set(.5,.5),this.animations.add("fire"),this.animations.play("fire",3,!0),this.body.outOfBoundsKill=!0,this.body.checkWorldBounds=!0,this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){},s.exports=i},{}],8:[function(t,s){"use strict";var i=function(t){Phaser.Group.call(this,t),this.fixedToCamera=!0,this.cameraOffset.x=200,this.cameraOffset.y=50,this.winText=this.game.add.bitmapText(this.x-120,80,"flappyfont","",62),this.add(this.winText),this.lostText=this.game.add.bitmapText(this.x-120,80,"flappyfont","",62),this.add(this.lostText),this.scoreboard=this.create(this.theX,200,"scoreboard"),this.scoreboard.anchor.setTo(.5,.5),this.scoreText=this.game.add.bitmapText(this.x+50,180,"flappyfont","",22),this.add(this.scoreText),this.bestText=this.game.add.bitmapText(this.x+50,230,"flappyfont","",22),this.add(this.bestText),this.startButton=this.game.add.button(this.x,300,"startButton",this.startClick,this),this.startButton.anchor.setTo(.5,.5),this.startButton.inputEnabled=!0,this.startButton.input.useHandCursor=!0,this.add(this.startButton),this.y=this.game.height,this.x=0};i.prototype=Object.create(Phaser.Group.prototype),i.prototype.constructor=i,i.prototype.show=function(t,s){s?this.winText.setText("You win"):this.lostText.setText("Game Over");var i,e;if(this.scoreText.setText(""+t),localStorage?(e=localStorage.getItem("bestScore"),(!e||t>e)&&(e=t,localStorage.setItem("bestScore",e))):e="N/A",this.bestText.setText(""+e),t>=70?i=this.game.add.sprite(-65,7,"medals",1):t>=50&&(i=this.game.add.sprite(-65,7,"medals",0)),this.game.add.tween(this).to({y:0},1e3,Phaser.Easing.Bounce.Out,!0),i){i.anchor.setTo(.5,.5),this.scoreboard.addChild(i);var h=this.game.add.emitter(i.x,i.y,400);this.scoreboard.addChild(h),h.width=i.width,h.height=i.height,h.makeParticles("particle"),h.setRotation(-100,100),h.setXSpeed(0,0),h.setYSpeed(0,0),h.minParticleScale=.25,h.maxParticleScale=.5,h.setAll("body.allowGravity",!1),h.start(!1,1e3,1e3)}},i.prototype.startClick=function(){this.game.state.start("play")},i.prototype.update=function(){},s.exports=i},{}],9:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.TileSprite.call(this,t,s,i,e,h,"sea_top"),this.autoScroll(-35,0)};i.prototype=Object.create(Phaser.TileSprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){},s.exports=i},{}],10:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.TileSprite.call(this,t,s,i,e,h,"sea_wave"),this.autoScroll(30,0),this.fixedToCamera=!0};i.prototype=Object.create(Phaser.TileSprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){},s.exports=i},{}],11:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.Sprite.call(this,t,s,i,"ship1",e,h),this.game.physics.arcade.enableBody(this),this.player=e,this.enemyBullets=h,this.game=t,this.health=5,this.fireRate=800,this.nextFire=100,this.alive=!0,this.anchor.set(.5,.5),this.animations.add("left",[0],2,!0),this.animations.add("right",[1],2,!0),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1),this.body.allowRotation=!1,this.bringToTop(),this.body.drag.set(.2),this.body.immovable=!1,this.body.maxVelocity.y=50,this.body.maxVelocity.x=50,this.game.physics.arcade.velocityFromRotation(Math.floor(100*Math.random())+50,300,this.body.velocity),this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){if(70>this.y&&(this.body.velocity.y+=Math.floor(10*Math.random()),this.body.velocity.x>0?this.body.velocity.x+=Math.floor(50*Math.random()):this.body.velocity.x-=Math.floor(50*Math.random())),0>this.body.velocity.x?this.animations.play("left"):this.body.velocity.x>0&&this.animations.play("right"),this.game.physics.arcade.distanceBetween(this,this.player)>200&&300>this.game.physics.arcade.distanceBetween(this,this.player)&&this.game.time.now>this.nextFire&&this.enemyBullets.countDead()>0&&this.alive){this.nextFire=this.game.time.now+this.fireRate;var t=this.enemyBullets.getFirstDead();t.reset(this.x,this.y),t.rotation=this.game.physics.arcade.moveToObject(t,this.player,150)}},i.prototype.damage=function(){return this.health-=1,0>=this.health?(this.alive=!1,this.kill(),!0):!1},s.exports=i},{}],12:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.Sprite.call(this,t,s,i,"ship2",e,h),this.game.physics.arcade.enableBody(this),this.player=e,this.enemyBullets=h,this.game=t,this.health=5,this.fireRate=900,this.nextFire=100,this.alive=!0,this.anchor.set(.5,.5),this.animations.add("left",[0],2,!0),this.animations.add("right",[1],2,!0),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1),this.body.allowRotation=!1,this.bringToTop(),this.body.drag.set(.2),this.body.immovable=!1,this.body.maxVelocity.y=50,this.body.maxVelocity.x=50,this.game.physics.arcade.velocityFromRotation(Math.floor(100*Math.random())+50,250,this.body.velocity),this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){if(70>this.y&&(this.body.velocity.y+=Math.floor(10*Math.random()),this.body.velocity.x>0?this.body.velocity.x+=Math.floor(50*Math.random()):this.body.velocity.x-=Math.floor(50*Math.random())),0>this.body.velocity.x?this.animations.play("left"):this.body.velocity.x>0&&this.animations.play("right"),this.game.physics.arcade.distanceBetween(this,this.player)>200&&300>this.game.physics.arcade.distanceBetween(this,this.player)&&this.game.time.now>this.nextFire&&this.enemyBullets.countDead()>0&&this.alive){this.nextFire=this.game.time.now+this.fireRate;var t=this.enemyBullets.getFirstDead();t.reset(this.x,this.y),t.rotation=this.game.physics.arcade.moveToObject(t,this.player,130)}},i.prototype.damage=function(){return this.health-=1,0>=this.health?(this.alive=!1,this.kill(),!0):!1},s.exports=i},{}],13:[function(t,s){"use strict";var i=function(t,s,i,e,h){Phaser.Sprite.call(this,t,s,i,"ships",e,h),this.game.physics.arcade.enableBody(this),this.player=e,this.enemyBullets=h,this.game=t,this.health=5,this.fireRate=1e3,this.nextFire=100,this.alive=!0,this.anchor.set(.5,.5),this.animations.add("left",[0],2,!0),this.animations.add("right",[1],2,!0),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1),this.body.allowRotation=!1,this.bringToTop(),this.body.drag.set(.2),this.body.immovable=!1,this.body.maxVelocity.y=50,this.body.maxVelocity.x=50,this.game.physics.arcade.velocityFromRotation(Math.floor(100*Math.random())+50,200,this.body.velocity),this.game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.update=function(){if(70>this.y&&(this.body.velocity.y+=Math.floor(10*Math.random()),this.body.velocity.x>0?this.body.velocity.x+=Math.floor(50*Math.random()):this.body.velocity.x-=Math.floor(50*Math.random())),0>this.body.velocity.x?this.animations.play("left"):this.body.velocity.x>0&&this.animations.play("right"),this.game.physics.arcade.distanceBetween(this,this.player)>250&&300>this.game.physics.arcade.distanceBetween(this,this.player)&&this.game.time.now>this.nextFire&&this.enemyBullets.countDead()>0&&this.alive){this.nextFire=this.game.time.now+this.fireRate;var t=this.enemyBullets.getFirstDead();t.reset(this.x,this.y),t.rotation=this.game.physics.arcade.moveToObject(t,this.player,100)}},i.prototype.damage=function(){return this.health-=1,0>=this.health?(this.alive=!1,this.kill(),!0):!1},s.exports=i},{}],14:[function(t,s){"use strict";function i(){}i.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.scale.hasResized.add(this.gameResized,this),this.scale.enterIncorrectOrientation.add(this.enterIncorrectOrientation,this),this.scale.leaveIncorrectOrientation.add(this.leaveIncorrectOrientation,this),this.scale.setScreenSize(!0),this.game.state.start("preload")},gameResized:function(){},enterIncorrectOrientation:function(){this.orientated=!1,document.getElementById("orientation").style.display="block"},leaveIncorrectOrientation:function(){this.orientated=!0,document.getElementById("orientation").style.display="none"}},s.exports=i},{}],15:[function(t,s){"use strict";function i(){}i.prototype={preload:function(){},create:function(){var t={font:"65px Arial",fill:"#ffffff",align:"center"};this.titleText=this.game.add.text(this.game.world.centerX,100,"Game Over!",t),this.titleText.anchor.setTo(.5,.5),this.congratsText=this.game.add.text(this.game.world.centerX,200,"You Win!",{font:"32px Arial",fill:"#ffffff",align:"center"}),this.congratsText.anchor.setTo(.5,.5),this.instructionText=this.game.add.text(this.game.world.centerX,300,"Click To Play Again",{font:"16px Arial",fill:"#ffffff",align:"center"}),this.instructionText.anchor.setTo(.5,.5)},update:function(){this.game.input.activePointer.justPressed()&&this.game.state.start("play")}},s.exports=i},{}],16:[function(t,s){"use strict";function i(){}var e=t("../prefabs/sea_top"),h=t("../prefabs/sea_wave"),a=t("../prefabs/island"),o=t("../prefabs/ships"),r=t("../prefabs/ship1"),l=t("../prefabs/ship2"),n=t("../prefabs/drill"),d=t("../prefabs/helicopter");t("../prefabs/bullets");var p=t("../prefabs/rockets"),c=t("../prefabs/ducks");i.prototype={preload:function(){},create:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.sea_top=new e(this.game,0,0,this.game.world.width,80),this.game.add.existing(this.sea_top),this.sea_wave=new h(this.game,0,79,this.game.world.width,this.game.world.height),this.game.add.existing(this.sea_wave),this.island=new a(this.game,this.game.width/2,this.game.world.height-60),this.game.add.existing(this.island),this.enemyBullets=this.game.add.group(),this.enemyBullets.enableBody=!0,this.enemyBullets.physicsBodyType=Phaser.Physics.ARCADE;for(var t=0;100>t;t++)this.rockets=new p(this.game,-100,-100),this.enemyBullets.add(this.rockets);this.enemyBullets.setAll("anchor.x",.5),this.enemyBullets.setAll("anchor.y",.5),this.enemyBullets.setAll("outOfBoundsKill",!0),this.enemyBullets.setAll("checkWorldBounds",!0),this.ducks=new c(this.game,this.game.world.width/2,100,this.enemyBullets),this.game.add.existing(this.ducks),this.drill=new n(this.game,this.game.world.width-100,this.game.world.height-100,this.ducks,this.enemyBullets),this.game.add.existing(this.drill),this.ships=new o(this.game,this.game.world.randomX,this.game.world.randomY,this.ducks,this.enemyBullets),this.ship1=new r(this.game,this.game.world.randomX,this.game.world.randomY,this.ducks,this.enemyBullets),this.ship2=new l(this.game,this.game.world.randomX,this.game.world.randomY,this.ducks,this.enemyBullets),this.helicopter=new d(this.game,this.game.world.randomX,this.game.world.randomY,this.ducks,this.enemyBullets),this.game.add.existing(this.helicopter),this.headText=this.game.add.bitmapText(this.game.world.width/2-150,200,"flappyfont","Duck 981",72),this.startButton=this.game.add.button(this.game.width/2,300,"startButton",this.startClick,this),this.startButton.anchor.setTo(.5,.5),this.startButton.inputEnabled=!0,this.startButton.input.useHandCursor=!0,this.contents=["Nguoi An Phu\n presents"," ","Duck981","protects our sea!"],this.style={font:"30pt Courier",fill:"#fcfcfc",stroke:"#d4dbd9",strokeThickness:2,align:"center"},this.content=this.game.add.text(this.game.world.centerX,400,"",this.style),this.content.anchor.setTo(.5,.5),this.time=this.game.time.now+80,this.index=0,this.line=""},update:function(){this.game.time.now>this.time&&this.index<this.contents.length&&(this.line.length<this.contents[this.index].length?(this.line=this.contents[this.index].substr(0,this.line.length+1),this.content.setText(this.line),this.time=this.game.time.now+80):(this.time=this.game.time.now+2e3,this.index<this.contents.length&&(this.index++,this.index>=this.contents.length&&(this.index=0),this.line="")))},startClick:function(){this.game.state.start("play")}},s.exports=i},{"../prefabs/bullets":2,"../prefabs/drill":3,"../prefabs/ducks":4,"../prefabs/helicopter":5,"../prefabs/island":6,"../prefabs/rockets":7,"../prefabs/sea_top":9,"../prefabs/sea_wave":10,"../prefabs/ship1":11,"../prefabs/ship2":12,"../prefabs/ships":13}],17:[function(t,s){"use strict";function i(){}var e=t("../prefabs/sea_top"),h=t("../prefabs/sea_wave"),a=t("../prefabs/island"),o=t("../prefabs/ships"),r=t("../prefabs/ship1"),l=t("../prefabs/ship2"),n=t("../prefabs/drill"),d=t("../prefabs/bullets"),p=t("../prefabs/rockets"),c=t("../prefabs/helicopter"),m=t("../prefabs/ducks"),u=t("../prefabs/scoreboard");i.prototype={create:function(){this.game.world.setBounds(0,0,2e3,2e3),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.boom=this.game.add.audio("boom"),this.shot=this.game.add.audio("shot"),this.sea_wave=new h(this.game,0,0,this.game.world.width,this.game.world.height),this.game.add.existing(this.sea_wave),this.sea_top=new e(this.game,0,0,this.game.world.width,80),this.game.add.existing(this.sea_top),this.islandGroup=this.game.add.group(),this.island1=new a(this.game,this.game.world.width/2-700,this.game.world.height/2),this.island2=new a(this.game,this.game.world.width/2+700,this.game.world.height/2),this.island3=new a(this.game,this.game.world.width/2,this.game.world.height/2-700),this.island4=new a(this.game,this.game.world.width/2,this.game.world.height/2+700),this.islandGroup.add(this.island1),this.islandGroup.add(this.island2),this.islandGroup.add(this.island3),this.islandGroup.add(this.island4),this.enemyBullets=this.game.add.group(),this.enemyBullets.enableBody=!0,this.enemyBullets.physicsBodyType=Phaser.Physics.ARCADE;for(var t=0;50>t;t++)this.rockets=new p(this.game,-100,-100),this.enemyBullets.add(this.rockets);this.enemyBullets.setAll("anchor.x",.5),this.enemyBullets.setAll("anchor.y",.5),this.enemyBullets.setAll("outOfBoundsKill",!0),this.enemyBullets.setAll("checkWorldBounds",!0),this.bulletsGroup=this.game.add.group(),this.bulletsGroup.enableBody=!0,this.bulletsGroup.physicsBodyType=Phaser.Physics.ARCADE;for(var t=0;50>t;t++)this.bullets=new d(this.game,-100,-100),this.bulletsGroup.add(this.bullets);this.bulletsGroup.setAll("anchor.x",.5),this.bulletsGroup.setAll("anchor.y",.5),this.bulletsGroup.setAll("outOfBoundsKill",!0),this.bulletsGroup.setAll("checkWorldBounds",!0),this.explosions=this.game.add.group();for(var t=0;10>t;t++)this.explosionAnimation=this.explosions.create(0,0,"kaboom",[0],!1),this.explosionAnimation.anchor.setTo(.5,.5),this.explosionAnimation.animations.add("kaboom");for(this.ducks=new m(this.game,this.game.world.width/2,100,this.bulletsGroup),this.game.add.existing(this.ducks),this.game.input.onDown.add(this.ducks.fire,this.ducks),this.ducksLive=!0,this.hpGroup=this.game.add.group(),this.hp=[],this.numberLifes=this.ducks.health,this.live=0;this.live<this.numberLifes;this.live++)this.hp[this.live]=this.add.sprite(10+40*this.live,10,"health"),this.hp[this.live].fixedToCamera=!0,this.hp[this.live].cameraOffset.x=10+40*this.live,this.hp[this.live].cameraOffset.y=10,this.hpGroup.add(this.hp[this.live]);for(this.live=this.numberLifes-1,this.drill=new n(this.game,this.game.world.width-10,10,this.ducks,this.enemyBullets),this.game.add.existing(this.drill),this.drillLive=!0,this.hpDrillGroup=this.game.add.group(),this.hpDrill=[],this.numberDrillLifes=this.drill.health,this.liveDrill=0;this.liveDrill<this.numberDrillLifes;this.liveDrill++)this.hpDrill[this.liveDrill]=this.add.sprite(this.game.width-50-40*this.liveDrill,10,"healthDrill"),this.hpDrill[this.liveDrill].fixedToCamera=!0,this.hpDrill[this.liveDrill].cameraOffset.x=this.game.width-50-40*this.liveDrill,this.hpDrill[this.liveDrill].cameraOffset.y=10,this.hpDrillGroup.add(this.hpDrill[this.liveDrill]);this.liveDrill=this.numberDrillLifes-1,this.shipsAlive=4,this.shipsGroup=this.game.add.group(),this.ship1Alive=2,this.ship1Group=this.game.add.group(),this.ship2Alive=2,this.ship2Group=this.game.add.group(),this.helicopter=new c(this.game,this.game.world.randomX,this.game.world.randomY,this.ducks,this.enemyBullets),this.game.add.existing(this.helicopter),this.score=0,this.scoreText=this.game.add.bitmapText(300,10,"flappyfont",""+this.score,44),this.scoreText.fixedToCamera=!0,this.scoreText.cameraOffset.x=300,this.scoreText.cameraOffset.y=10,this.game.camera.follow(this.ducks),this.game.camera.focusOnXY(0,0),this.styleLogo={font:"10pt Courier",fill:"#fcfcfc",stroke:"#d4dbd9",strokeThickness:1,align:"center"},this.logo=this.game.add.text(this.game.width-90,this.game.height-10,"play.nguoianphu.com",this.styleLogo),this.logo.anchor.setTo(.5,.5),this.logo.fixedToCamera=!0,this.logo.cameraOffset.x=this.game.width-90,this.logo.cameraOffset.y=this.game.height-10,this.contents=["Attention:","the invader attacks our sea...","defend the Oil Rig and the Ships!"],this.style={font:"15pt Courier",fill:"#fcfcfc",stroke:"#d4dbd9",strokeThickness:1,align:"center"},this.content=this.game.add.text(this.game.width-300,this.game.height-30,"",this.style),this.content.fixedToCamera=!0,this.content.cameraOffset.x=this.game.width-300,this.content.cameraOffset.y=this.game.height-30,this.content.anchor.setTo(.5,.5),this.time=this.game.time.now+80,this.index=0,this.line=""},update:function(){this.shipsGroup.countLiving()<this.shipsAlive&&this.createShips(this.shipsGroup),this.ship1Group.countLiving()<this.ship1Alive&&this.createShip1(this.ship1Group),this.ship2Group.countLiving()<this.ship2Alive&&this.createShip2(this.ship2Group),this.game.physics.arcade.collide(this.ducks,this.shipsGroup),this.game.physics.arcade.collide(this.ducks,this.ship1Group),this.game.physics.arcade.collide(this.ducks,this.ship2Group),this.game.physics.arcade.collide(this.ducks,this.drill),this.game.physics.arcade.collide(this.ducks,this.islandGroup),this.game.physics.arcade.collide(this.shipsGroup,this.drill),this.game.physics.arcade.collide(this.ship1Group,this.drill),this.game.physics.arcade.collide(this.ship2Group,this.drill),this.game.physics.arcade.collide(this.shipsGroup,this.ship1Group),this.game.physics.arcade.collide(this.shipsGroup,this.ship2Group),this.game.physics.arcade.collide(this.ship1Group,this.ship2Group),this.game.physics.arcade.collide(this.shipsGroup,this.islandGroup),this.game.physics.arcade.collide(this.ship1Group,this.islandGroup),this.game.physics.arcade.collide(this.ship2Group,this.islandGroup),this.game.physics.arcade.collide(this.drill,this.islandGroup),this.game.physics.arcade.overlap(this.enemyBullets,this.ducks,this.bulletHitDucks,null,this),this.game.physics.arcade.overlap(this.enemyBullets,this.islandGroup,this.bulletHitIslandGroup,null,this),this.game.physics.arcade.overlap(this.bulletsGroup,this.drill,this.bulletHitDrill,null,this),this.game.physics.arcade.overlap(this.bulletsGroup,this.islandGroup,this.bulletHitIslandGroup,null,this),this.game.physics.arcade.overlap(this.bulletsGroup,this.shipsGroup,this.bulletHitShip,null,this),this.game.physics.arcade.overlap(this.bulletsGroup,this.ship1Group,this.bulletHitShip,null,this),this.game.physics.arcade.overlap(this.bulletsGroup,this.ship2Group,this.bulletHitShip,null,this),this.game.time.now>this.time&&this.index<this.contents.length&&(this.line.length<this.contents[this.index].length?(this.line=this.contents[this.index].substr(0,this.line.length+1),this.content.setText(this.line),this.time=this.game.time.now+80):(this.time=this.game.time.now+2e3,this.index<this.contents.length&&(this.index++,this.index>=this.contents.length&&(this.index=0),this.line="")))},createShips:function(t){this.ships=new o(this.game,this.game.world.randomX+100,this.game.world.randomY+100,this.ducks,this.enemyBullets),t.add(this.ships)},createShip1:function(t){this.ship1=new r(this.game,this.game.world.randomX+100,this.game.world.randomY+100,this.ducks,this.enemyBullets),t.add(this.ship1)},createShip2:function(t){this.ship2=new l(this.game,this.game.world.randomX+100,this.game.world.randomY+100,this.ducks,this.enemyBullets),t.add(this.ship2)},shotSound:function(t){200>this.game.physics.arcade.distanceBetween(t,this.ducks)&&this.shot.play()},bulletHitDucks:function(t,s){this.shot.play(),s.kill(),this.explosions.getFirstExists(!1),this.explosionAnimation.reset(t.x+10,t.y+10),this.explosionAnimation.play("kaboom",30,!1,!0),this.hp[this.live].kill(),this.live--,-1===this.live&&this.boom.play(),this.theX=t.x,this.destroyed=t.damage(),this.destroyed&&(this.ducksLive=!1,this.scoreboard=new u(this.game,this.theX-100,100),this.game.add.existing(this.scoreboard),this.scoreboard.show(this.score,!1))},bulletHitIslandGroup:function(t){t.kill()},bulletHitShip:function(t,s){t.kill(),this.boom.play(),this.explosions.getFirstExists(!1),this.explosionAnimation.reset(s.x+10,s.y+10),this.explosionAnimation.play("kaboom",30,!1,!0),this.destroyed=s.damage(),this.destroyed&&this.hasScore(10)},bulletHitDrill:function(t,s){this.shot.play(),s.kill(),this.explosions.getFirstExists(!1),this.explosionAnimation.reset(t.x+10,t.y+10),this.explosionAnimation.play("kaboom",30,!1,!0),this.hpDrill[this.liveDrill].kill(),this.liveDrill--,-1===this.liveDrill&&this.boom.play(),this.destroyed=t.damage(),this.destroyed&&(this.ducksLive&&(this.scoreboard=new u(this.game),this.game.add.existing(this.scoreboard),this.scoreboard.show(this.score,!0)),this.boom.play(),this.hasScore(100),this.ducks.destroy())},hasScore:function(t){this.score=this.score+t,this.scoreText.setText(""+this.score)}},s.exports=i},{"../prefabs/bullets":2,"../prefabs/drill":3,"../prefabs/ducks":4,"../prefabs/helicopter":5,"../prefabs/island":6,"../prefabs/rockets":7,"../prefabs/scoreboard":8,"../prefabs/sea_top":9,"../prefabs/sea_wave":10,"../prefabs/ship1":11,"../prefabs/ship2":12,"../prefabs/ships":13}],18:[function(t,s){"use strict";function i(){this.asset=null,this.ready=!1}i.prototype={preload:function(){this.asset=this.add.sprite(this.game.width/2,this.game.height/2,"preloader"),this.asset.anchor.setTo(.5,.5),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.load.image("sea_top","assets/sea/sea_top.png"),this.load.image("sea_wave","assets/sea/sea_wave.png"),this.load.image("island","assets/island/island.png"),this.load.image("scoreboard","assets/score/scoreboard.png"),this.load.spritesheet("medals","assets/score/medals.png",44,46,2),this.load.image("particle","assets/score/particle.png"),this.load.bitmapFont("flappyfont","assets/fonts/flappyfont/flappyfont.png","assets/fonts/flappyfont/flappyfont.fnt"),this.load.spritesheet("pole","assets/pole/poles.png",96,70,2),this.load.spritesheet("ships","assets/ship/ships.png",200,61,2),this.load.spritesheet("ship1","assets/ship/warship1.png",200,68,2),this.load.spritesheet("ship2","assets/ship/warship2.png",200,68,2),this.load.spritesheet("drill","assets/drill/rigs.png",125,198,2),this.load.spritesheet("ducks","assets/duck/ducks.png",125,96,2),this.load.image("health","assets/health/heart.png"),this.load.image("healthDrill","assets/drill/rigicon.png"),this.load.image("startButton","assets/menu/start-button.png"),this.load.image("bullets","assets/bullets/egg.png",43,32),this.load.spritesheet("rockets","assets/bullets/rockets.png",80,25,3),this.load.spritesheet("kaboom","assets/bullets/explosion.png",64,64,23),this.load.spritesheet("helicopter","assets/helicopter/helicopter.png",150,38,8),this.load.audio("boom","assets/audio/boom.ogg"),this.load.audio("shot","assets/audio/shot.ogg")},create:function(){this.asset.cropEnabled=!1},update:function(){this.ready&&this.game.state.start("menu")},onLoadComplete:function(){this.ready=!0}},s.exports=i},{}]},{},[1]);